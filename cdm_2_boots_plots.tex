\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Plots to publish},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\providecommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{Plots to publish}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{}
    \preauthor{}\postauthor{}
    \date{}
    \predate{}\postdate{}
  

\begin{document}
\maketitle

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\KeywordTok{library}\NormalTok{(ggpubr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Loading required package: magrittr
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(CDM)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Loading required package: mvtnorm
\end{verbatim}

\begin{verbatim}
## **********************************
## ** CDM 7.3-17 (2019-03-18 18:33:40)      
## ** Cognitive Diagnostic Models  **
## **********************************
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(boot)}
\KeywordTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## -- Attaching packages ----------------------------------------------------------------------------------------------------------------------------------------------------- tidyverse 1.2.1 --
\end{verbatim}

\begin{verbatim}
## v tibble  2.1.1       v purrr   0.3.2  
## v tidyr   0.8.3       v dplyr   0.8.0.1
## v readr   1.3.1       v stringr 1.4.0  
## v tibble  2.1.1       v forcats 0.4.0
\end{verbatim}

\begin{verbatim}
## -- Conflicts -------------------------------------------------------------------------------------------------------------------------------------------------------- tidyverse_conflicts() --
## x tidyr::extract()   masks magrittr::extract()
## x dplyr::filter()    masks stats::filter()
## x dplyr::lag()       masks stats::lag()
## x purrr::set_names() masks magrittr::set_names()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(stringi)}
\KeywordTok{library}\NormalTok{(stringr)}
\KeywordTok{library}\NormalTok{(ggridges)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'ggridges'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:ggplot2':
## 
##     scale_discrete_manual
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggrepel)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(}\DataTypeTok{list =} \KeywordTok{ls}\NormalTok{())}
\KeywordTok{options}\NormalTok{(}\DataTypeTok{max.print=}\DecValTok{100}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ec <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_ecpe.rds"}\NormalTok{)}

\NormalTok{df.error.ec.agg <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_agg_ecpe.rds"}\NormalTok{)}

\NormalTok{df.error.ec.fit <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_fit_ecpe.rds"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \StringTok{"ECPE"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Detecting old grouped_df format, replacing `vars` attribute by
## `groups`
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ec.plot <-}\StringTok{ }\NormalTok{df.error.ec }\OperatorTok{%>%}\StringTok{ }\KeywordTok{inner_join}\NormalTok{(}
\NormalTok{  df.error.ec.agg}
\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \StringTok{"ECPE"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Joining, by = c("group", "parameter", "sample_size", "student_question_ratio")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ec.plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,120 x 13
##    group parameter questions total_count sampling_mean sampling_error
##    <chr> <chr>     <chr>           <int>         <dbl>          <dbl>
##  1 Part~ Guess     E23               500        0.467          0.433 
##  2 Part~ Slip      E21               500        0.0561         0.0277
##  3 Part~ Guess     E16               500        0.753          0.0430
##  4 Part~ Slip      E11               500        0.131          0.0768
##  5 Part~ Slip      E22               500        0.326          0.0553
##  6 Part~ Guess     E2                500        0.477          0.0610
##  7 Part~ Slip      E15               500        0.238          0.223 
##  8 Part~ Guess     E19               500        0.491          0.156 
##  9 Part~ Guess     E12               500        1              0     
## 10 Part~ Slip      E17               500        0.347          0.0207
## # ... with 1,110 more rows, and 7 more variables: sampling_variance <dbl>,
## #   attempts <dbl>, sample_size <dbl>, student_question_ratio <dbl>,
## #   sampling_error_mean <dbl>, avg_attempts <dbl>, dataset <chr>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ti <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_timss.rds"}\NormalTok{)}

\NormalTok{df.error.ti.agg <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_agg_timss.rds"}\NormalTok{)}

\NormalTok{df.error.ti.fit <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_fit_timss.rds"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \StringTok{"TIMSS"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Detecting old grouped_df format, replacing `vars` attribute by
## `groups`
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ti.plot <-}\StringTok{ }\NormalTok{df.error.ti }\OperatorTok{%>%}\StringTok{ }\KeywordTok{inner_join}\NormalTok{(}
\NormalTok{  df.error.ti.agg}
\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \StringTok{"TIMSS"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Joining, by = c("group", "parameter", "sample_size", "student_question_ratio")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ti.plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,692 x 13
##    group parameter questions total_count sampling_mean sampling_error
##    <chr> <chr>     <chr>           <int>         <dbl>          <dbl>
##  1 Part~ Slip      M041158           500        0.470          0.209 
##  2 Part~ Slip      M051091           500        0.0721         0.0721
##  3 Part~ Guess     M031346C          500        0.384          0.182 
##  4 Part~ Slip      M051055           500        0.189          0.196 
##  5 Part~ Slip      M041010           500        0.0443         0.0513
##  6 Part~ Guess     M051123           500        0.0215         0.0150
##  7 Part~ Slip      M041158           500        0.547          0.0859
##  8 Part~ Guess     M031346A          500        0.157          0.0453
##  9 Part~ Guess     M051006           500        0.230          0.141 
## 10 Part~ Guess     M031185           500        0.0190         0.0227
## # ... with 1,682 more rows, and 7 more variables: sampling_variance <dbl>,
## #   attempts <dbl>, sample_size <dbl>, student_question_ratio <dbl>,
## #   sampling_error_mean <dbl>, avg_attempts <dbl>, dataset <chr>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ss <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_upsample_socialscience.rds"}\NormalTok{)}

\NormalTok{df.error.ss.agg <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_agg_upsample_socialscience.rds"}\NormalTok{)}

\NormalTok{df.error.ss.fit <-}\StringTok{ }\KeywordTok{read_rds}\NormalTok{(}\StringTok{"..}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{data}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{FirstYearProject}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{report}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{df_error_fit_upsample_socialscience.rds"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \StringTok{"Social Psychology (Upsample)"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Detecting old grouped_df format, replacing `vars` attribute by
## `groups`
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ss.plot <-}\StringTok{ }\NormalTok{df.error.ss }\OperatorTok{%>%}\StringTok{ }\KeywordTok{inner_join}\NormalTok{(}
\NormalTok{  df.error.ss.agg}
\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \StringTok{"Social Psychology (UpSampled)"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Joining, by = c("group", "parameter", "sample_size", "student_question_ratio")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.ss.plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 29,684 x 13
##    group parameter questions total_count sampling_mean sampling_error
##    <chr> <chr>     <chr>           <int>         <dbl>          <dbl>
##  1 Part~ Slip      Q920              100      1.10e- 1       3.14e- 1
##  2 Part~ Guess     Q749              100      3.77e- 1       3.22e- 1
##  3 Part~ Guess     Q545              100      1.00e- 2       1.00e- 1
##  4 Part~ Slip      Q959              100      8.08e- 1       2.09e- 1
##  5 Part~ Slip      Q462              100      2.02e- 1       1.88e- 1
##  6 Part~ Slip      Q710              100      2.46e- 1       1.03e- 1
##  7 Part~ Slip      Q256              100     -1.43e-18       3.22e-17
##  8 Part~ Slip      Q6                100      1.44e- 1       2.55e- 1
##  9 Part~ Slip      Q692              100      1.00e- 1       3.02e- 1
## 10 Part~ Guess     Q589              100      6.26e- 2       2.12e- 1
## # ... with 29,674 more rows, and 7 more variables:
## #   sampling_variance <dbl>, attempts <dbl>, sample_size <dbl>,
## #   student_question_ratio <dbl>, sampling_error_mean <dbl>,
## #   avg_attempts <dbl>, dataset <chr>
\end{verbatim}

\hypertarget{merge-all-data}{%
\section{Merge all Data}\label{merge-all-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.plot <-}\StringTok{ }\NormalTok{df.error.ec.plot }\OperatorTok{%>%}\StringTok{ }\KeywordTok{bind_rows}\NormalTok{(df.error.ti.plot) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{bind_rows}\NormalTok{(df.error.ss.plot) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{ratio_n =}\NormalTok{ student_question_ratio) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{student_question_ratio =} \KeywordTok{factor}\NormalTok{(student_question_ratio, }\DataTypeTok{levels =} \KeywordTok{sort}\NormalTok{(}\KeywordTok{unique}\NormalTok{(}\KeywordTok{as.numeric}\NormalTok{(student_question_ratio))), }\DataTypeTok{ordered =} \OtherTok{TRUE}\NormalTok{)) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{dataset =} \KeywordTok{factor}\NormalTok{(dataset, }\DataTypeTok{levels =} \KeywordTok{c}\NormalTok{(}\StringTok{"ECPE"}\NormalTok{, }\StringTok{"TIMSS"}\NormalTok{, }\StringTok{"Social Psychology (UpSampled)"}\NormalTok{))) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{questions =} \KeywordTok{factor}\NormalTok{(questions)) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{group_by}\NormalTok{(dataset, group, parameter, sample_size) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{question_n =} \KeywordTok{n}\NormalTok{(), }\DataTypeTok{qsr =} \KeywordTok{round}\NormalTok{(}\KeywordTok{n}\NormalTok{()}\OperatorTok{/}\NormalTok{sample_size)) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }
\StringTok{  }\CommentTok{#mutate(sampling_error = sampling_error / sqrt(1000)) %>% # To get Smulation Error}
\StringTok{  }
\StringTok{  }\CommentTok{# Average avg_attempts between partitions}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(dataset, parameter, sample_size) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{avg_attempts =} \KeywordTok{round}\NormalTok{(}\KeywordTok{mean}\NormalTok{(avg_attempts))) }\OperatorTok{%>%}
\StringTok{  }
\StringTok{  }\KeywordTok{ungroup}\NormalTok{() }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{arrange}\NormalTok{(dataset, group, parameter, sample_size)}

\NormalTok{df.error.plot <-}\StringTok{ }\NormalTok{df.error.plot }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{qsr =} \KeywordTok{factor}\NormalTok{(qsr, }\DataTypeTok{ordered =} \OtherTok{TRUE}\NormalTok{), }
                                          \DataTypeTok{sample_size =} \KeywordTok{factor}\NormalTok{(sample_size, }\DataTypeTok{ordered =} \OtherTok{TRUE}\NormalTok{), }
                                          \DataTypeTok{avg_attempts =} \KeywordTok{factor}\NormalTok{(avg_attempts, }\DataTypeTok{ordered =} \OtherTok{TRUE}\NormalTok{)}
\NormalTok{                                          )}
\NormalTok{df.error.plot }\OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(group, parameter, attempts) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{top_n}\NormalTok{(}\DecValTok{2}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(questions, sampling_mean, sampling_error)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Selecting by qsr
\end{verbatim}

\begin{verbatim}
## Adding missing grouping variables: `group`, `parameter`, `attempts`
\end{verbatim}

\begin{verbatim}
## # A tibble: 15,806 x 6
## # Groups:   group, parameter, attempts [908]
##    group       parameter attempts questions sampling_mean sampling_error
##    <chr>       <chr>        <dbl> <fct>             <dbl>          <dbl>
##  1 Partition 1 Guess            6 E12               1              0    
##  2 Partition 1 Guess            6 E1                1              0    
##  3 Partition 1 Guess            6 E4                0.084          0.278
##  4 Partition 1 Guess            6 E26               0.398          0.416
##  5 Partition 1 Guess            6 E16               0.616          0.412
##  6 Partition 1 Guess            6 E10               1              0    
##  7 Partition 1 Guess            6 E24               1              0    
##  8 Partition 1 Guess            6 E19               0.602          0.416
##  9 Partition 1 Guess            6 E18               0.532          0.427
## 10 Partition 1 Guess            6 E6                1              0    
## # ... with 15,796 more rows
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.fit.plot <-}\StringTok{ }\NormalTok{df.error.ec.fit }\OperatorTok{%>%}\StringTok{ }\KeywordTok{bind_rows}\NormalTok{(df.error.ss.fit) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{bind_rows}\NormalTok{(df.error.ti.fit)}
\NormalTok{df.fit.plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,228 x 9
## # Groups:   group, parameter [2]
##    group parameter fit   sampling_mean sampling_error sample_size
##    <chr> <chr>     <chr>         <dbl>          <dbl>       <dbl>
##  1 Part~ SRMSR     fit_~        0.0864        0.00429         280
##  2 Part~ SRMSR     fit_~        0.374         0.0519            8
##  3 Part~ SRMSR     fit_~        0.236         0.0192           28
##  4 Part~ SRMSR     fit_~        0.178         0.0126           56
##  5 Part~ SRMSR     fit_~        0.0712        0.00330         420
##  6 Part~ SRMSR     fit_~        0.0478        0.00155        1461
##  7 Part~ SRMSR     fit_~        0.244         0.0186           28
##  8 Part~ SRMSR     fit_~        0.119         0.00644         140
##  9 Part~ SRMSR     fit_~        0.113         0.00605         140
## 10 Part~ SRMSR     fit_~        0.182         0.0122           56
## # ... with 1,218 more rows, and 3 more variables:
## #   student_question_ratio <dbl>, attempts <dbl>, dataset <chr>
\end{verbatim}

Need to take average because for different sample sizes there can be
same number of attempts

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.fit.plot.attempts <-}\StringTok{ }\NormalTok{df.fit.plot }\OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(group, parameter, fit, dataset, sample_size) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise_all}\NormalTok{(}\DataTypeTok{.funs =}\NormalTok{ mean)}
\NormalTok{df.fit.plot.attempts}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 54 x 9
## # Groups:   group, parameter, fit, dataset [6]
##    group parameter fit   dataset sample_size sampling_mean sampling_error
##    <chr> <chr>     <chr> <chr>         <dbl>         <dbl>          <dbl>
##  1 Part~ SRMSR     fit_~ ECPE              6        0.369         0.0760 
##  2 Part~ SRMSR     fit_~ ECPE              8        0.374         0.0519 
##  3 Part~ SRMSR     fit_~ ECPE             11        0.333         0.0405 
##  4 Part~ SRMSR     fit_~ ECPE             14        0.312         0.0353 
##  5 Part~ SRMSR     fit_~ ECPE             28        0.236         0.0192 
##  6 Part~ SRMSR     fit_~ ECPE             56        0.178         0.0126 
##  7 Part~ SRMSR     fit_~ ECPE            140        0.119         0.00644
##  8 Part~ SRMSR     fit_~ ECPE            280        0.0864        0.00429
##  9 Part~ SRMSR     fit_~ ECPE            420        0.0726        0.00307
## 10 Part~ SRMSR     fit_~ ECPE           1461        0.0478        0.00155
## # ... with 44 more rows, and 2 more variables:
## #   student_question_ratio <dbl>, attempts <dbl>
\end{verbatim}

\hypertarget{sampling-error}{%
\section{Sampling Error}\label{sampling-error}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.plot }\OperatorTok{%>%}\StringTok{ }\CommentTok{#filter(parameter == "Guess") %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{avg_attempts, }\DataTypeTok{y=}\NormalTok{sampling_error, }\DataTypeTok{fill =}\NormalTok{ group) }\OperatorTok{+}
\StringTok{  }\CommentTok{#geom_boxplot(alpha = 0.4, show.legend = FALSE) +}
\StringTok{  }\KeywordTok{geom_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{sampling_error_mean, }\DataTypeTok{color =}\NormalTok{ group, }\DataTypeTok{group =}\NormalTok{ group), }\DataTypeTok{linetype =} \DecValTok{1}\NormalTok{, }\DataTypeTok{size =} \DecValTok{1}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{sampling_error_mean), }\DataTypeTok{size =} \DecValTok{1}\NormalTok{, }\DataTypeTok{show.legend =} \OtherTok{FALSE}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Student to Item Ratio"}\NormalTok{, }\DataTypeTok{color=}\StringTok{""}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(dataset}\OperatorTok{~}\NormalTok{parameter) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Sampling Error for each Sample Size"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\NormalTok{ggpubr}\OperatorTok{::}\KeywordTok{theme_pubclean}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{   }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{legend.position =} \StringTok{"bottom"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{subtitle =} \StringTok{"Item Parameters"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-9-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.plot }\OperatorTok{%>%}\StringTok{ }\CommentTok{#filter(parameter == "Guess") %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{avg_attempts, }\DataTypeTok{y=}\NormalTok{sampling_error, }\DataTypeTok{fill =}\NormalTok{ group) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_boxplot}\NormalTok{(}\DataTypeTok{alpha =} \FloatTok{0.4}\NormalTok{, }\DataTypeTok{show.legend =} \OtherTok{FALSE}\NormalTok{, }\DataTypeTok{color =} \StringTok{"grey38"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{sampling_error_mean, }\DataTypeTok{color =}\NormalTok{ group, }\DataTypeTok{group =}\NormalTok{ group), }\DataTypeTok{linetype =} \DecValTok{1}\NormalTok{, }\DataTypeTok{size =} \FloatTok{1.1}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{sampling_error_mean), }\DataTypeTok{size =} \DecValTok{1}\NormalTok{, }\DataTypeTok{show.legend =} \OtherTok{FALSE}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Average students attempting each Question"}\NormalTok{, }\DataTypeTok{color=}\StringTok{""}\NormalTok{, }\DataTypeTok{y =} \StringTok{"Sampling Error"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(dataset}\OperatorTok{~}\KeywordTok{paste}\NormalTok{(parameter, }\StringTok{"Parameter"}\NormalTok{)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Distribution containing Sampling Error for each Sample Size"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\NormalTok{ggpubr}\OperatorTok{::}\KeywordTok{theme_pubclean}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{legend.position =} \StringTok{"bottom"}\NormalTok{, }\DataTypeTok{axis.text.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{7}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-10-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.plot }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(parameter, group, questions, sampling_mean, avg_attempts, student_question_ratio, dataset) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{spread}\NormalTok{(}\DataTypeTok{key=}\StringTok{"group"}\NormalTok{, }\DataTypeTok{value =} \StringTok{"sampling_mean"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(avg_attempts) }\OperatorTok{%>%}\StringTok{ }\CommentTok{#filter(parameter == "Guess") %>%}
\StringTok{  }
\StringTok{  }
\StringTok{  }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\StringTok{`}\DataTypeTok{Partition 1}\StringTok{`}\NormalTok{, }\DataTypeTok{y=}\StringTok{`}\DataTypeTok{Partition 2}\StringTok{`}\NormalTok{, }\DataTypeTok{color =}\NormalTok{ parameter) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\DataTypeTok{show.legend =} \OtherTok{TRUE}\NormalTok{, }\DataTypeTok{alpha =} \FloatTok{0.4}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(dataset}\OperatorTok{~}\NormalTok{avg_attempts, }\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{ggtitle}\NormalTok{(}\StringTok{"Distribution of Sampling Mean for each Sample Size"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{scale_x_continuous}\NormalTok{(}\DataTypeTok{breaks =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{breaks =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\NormalTok{ggpubr}\OperatorTok{::}\KeywordTok{theme_pubclean}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{color =} \StringTok{""}\NormalTok{, }\DataTypeTok{subtitle =} \StringTok{"Student Sample Size"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{legend.position =} \StringTok{"bottom"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-11-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.error.plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 32,496 x 16
##    group parameter questions total_count sampling_mean sampling_error
##    <chr> <chr>     <fct>           <int>         <dbl>          <dbl>
##  1 Part~ Guess     E12               500         1              0    
##  2 Part~ Guess     E1                500         1              0    
##  3 Part~ Guess     E4                500         0.084          0.278
##  4 Part~ Guess     E26               500         0.398          0.416
##  5 Part~ Guess     E16               500         0.616          0.412
##  6 Part~ Guess     E10               500         1              0    
##  7 Part~ Guess     E24               500         1              0    
##  8 Part~ Guess     E19               500         0.602          0.416
##  9 Part~ Guess     E18               500         0.532          0.427
## 10 Part~ Guess     E6                500         1              0    
## # ... with 32,486 more rows, and 10 more variables:
## #   sampling_variance <dbl>, attempts <dbl>, sample_size <ord>,
## #   student_question_ratio <ord>, sampling_error_mean <dbl>,
## #   avg_attempts <ord>, dataset <fct>, ratio_n <dbl>, question_n <int>,
## #   qsr <ord>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.t <-}\StringTok{ }\NormalTok{df.error.plot }\CommentTok{#%>%   #%>% filter(dataset == "TIMSS")}
\CommentTok{#mutate(sampling_mean = round(sampling_mean, 2),}
\CommentTok{#       sampling_error = round(sampling_error, 2)}
\CommentTok{#       )}

\NormalTok{df.mean_diff <-}\StringTok{ }\NormalTok{df.t  }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(parameter, group, questions, sampling_mean, avg_attempts, dataset) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{spread}\NormalTok{(}\DataTypeTok{key=}\StringTok{"group"}\NormalTok{, }\DataTypeTok{value =} \StringTok{"sampling_mean"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{rename}\NormalTok{(}\StringTok{"Partition1_mean"}\NormalTok{ =}\StringTok{ `}\DataTypeTok{Partition 1}\StringTok{`}\NormalTok{, }\StringTok{"Partition2_mean"}\NormalTok{ =}\StringTok{ `}\DataTypeTok{Partition 2}\StringTok{`}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{inner_join}\NormalTok{(}
    
\NormalTok{    df.t  }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(parameter, group, questions, sampling_error, avg_attempts, dataset) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{spread}\NormalTok{(}\DataTypeTok{key=}\StringTok{"group"}\NormalTok{, }\DataTypeTok{value =} \StringTok{"sampling_error"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{rename}\NormalTok{(}\StringTok{"Partition1_error"}\NormalTok{ =}\StringTok{ `}\DataTypeTok{Partition 1}\StringTok{`}\NormalTok{, }\StringTok{"Partition2_error"}\NormalTok{ =}\StringTok{ `}\DataTypeTok{Partition 2}\StringTok{`}\NormalTok{)}
    
\NormalTok{  ) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(dataset,parameter,avg_attempts,questions) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}
                                                                      \DataTypeTok{diff =}\NormalTok{ Partition1_mean }\OperatorTok{-}\StringTok{ }\NormalTok{Partition2_mean,}
                                                                      \CommentTok{#Z_test = diff / }
                                                                      \CommentTok{#  ( sqrt( ( (Partition1_error^2) ) + ((Partition2_error^2)) + 0.001^2 ) ) #  }
                                                                      \DataTypeTok{Z_test =}\NormalTok{ diff }\OperatorTok{/}\StringTok{ }\NormalTok{Partition1_mean,}
                                                                      \CommentTok{#  ( sqrt( ( (Partition1_error^2) ) + ((Partition2_error^2)) + 0.001^2 ) )}
                                                                     
\NormalTok{                                                                     ) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }
\StringTok{  }\CommentTok{#filter(Z_test > -250 & Z_test < 250) %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(dataset,parameter,avg_attempts) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{Z_avg =} \KeywordTok{mean}\NormalTok{(Z_test, }\DataTypeTok{na.rm =} \OtherTok{TRUE}\NormalTok{)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{ungroup}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Joining, by = c("parameter", "questions", "avg_attempts", "dataset")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.mean_diff }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(dataset, Z_test, questions, avg_attempts) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(parameter }\OperatorTok{==}\StringTok{ "Guess"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(}\OperatorTok{-}\NormalTok{Z_avg) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 8,124 x 10
##    parameter questions avg_attempts dataset Partition1_mean Partition2_mean
##    <chr>     <fct>     <ord>        <fct>             <dbl>           <dbl>
##  1 Guess     E22       6            ECPE          0.                0.35   
##  2 Guess     E6        8            ECPE          1.07e-313         0.160  
##  3 Guess     E4        8            ECPE          2.31e-247         0.445  
##  4 Guess     E17       6            ECPE          3.93e- 42         0.00267
##  5 Guess     E23       8            ECPE          3.27e- 32         0.289  
##  6 Guess     E3        11           ECPE          7.99e- 27         0.617  
##  7 Guess     E4        28           ECPE          1.86e-  9         0.111  
##  8 Guess     E2        6            ECPE          1.40e-  2         0.950  
##  9 Guess     E11       6            ECPE          1.40e-  2         0.530  
## 10 Guess     E14       28           ECPE          2.04e-  2         0.594  
## # ... with 8,114 more rows, and 4 more variables: Partition1_error <dbl>,
## #   Partition2_error <dbl>, diff <dbl>, Z_test <dbl>
\end{verbatim}

\hypertarget{plots-of-mean-difference}{%
\section{Plots of mean difference}\label{plots-of-mean-difference}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.diff <-}\StringTok{ }\NormalTok{df.mean_diff }\OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(dataset, parameter, avg_attempts) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{summarize}\NormalTok{(}
    \DataTypeTok{mn =} \KeywordTok{median}\NormalTok{(diff),}
    \DataTypeTok{sd =} \KeywordTok{sd}\NormalTok{(diff),}
    \DataTypeTok{min =} \KeywordTok{min}\NormalTok{(diff),}
    \DataTypeTok{max =} \KeywordTok{max}\NormalTok{(diff)}
    
\NormalTok{  )}

\NormalTok{df.diff}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 54 x 7
## # Groups:   dataset, parameter [6]
##    dataset parameter avg_attempts       mn     sd     min    max
##    <fct>   <chr>     <ord>           <dbl>  <dbl>   <dbl>  <dbl>
##  1 ECPE    Guess     6             0       0.436  -0.936  0.892 
##  2 ECPE    Guess     8             0.01    0.291  -0.559  0.665 
##  3 ECPE    Guess     11           -0.00364 0.386  -0.617  0.932 
##  4 ECPE    Guess     14           -0.0534  0.354  -0.577  0.688 
##  5 ECPE    Guess     28           -0.0752  0.364  -0.849  0.688 
##  6 ECPE    Guess     56           -0.0491  0.277  -0.559  0.566 
##  7 ECPE    Guess     140          -0.00990 0.128  -0.207  0.391 
##  8 ECPE    Guess     280           0.0166  0.0762 -0.189  0.147 
##  9 ECPE    Guess     420          -0.0348  0.0680 -0.214  0.110 
## 10 ECPE    Guess     1461         -0.00333 0.0267 -0.0789 0.0450
## # ... with 44 more rows
\end{verbatim}

\hypertarget{plot-for-poster-presentation}{%
\section{Plot for poster
presentation}\label{plot-for-poster-presentation}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.diff }\OperatorTok{%>%}\StringTok{ }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{avg_attempts, }\DataTypeTok{y =}\NormalTok{ sd, }\DataTypeTok{color =}\NormalTok{ dataset) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{group =}\NormalTok{ dataset)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(.}\OperatorTok{~}\NormalTok{parameter,}\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x =} \StringTok{"Average Student Attempts"}\NormalTok{, }\DataTypeTok{y =} \StringTok{"Standard Deviation"}\NormalTok{, }\DataTypeTok{title =} \StringTok{"Standard Deviation of Sampling Mean Difference"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_label_repel}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{label =} \KeywordTok{round}\NormalTok{(sd,}\DecValTok{2}\NormalTok{))) }
\end{Highlighting}
\end{Shaded}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-15-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.diff }\OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(dataset, parameter)}\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(dataset, parameter, avg_attempts) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{first =} \KeywordTok{first}\NormalTok{(sd)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{diff_from_first =}\NormalTok{ ((sd}\OperatorTok{-}\NormalTok{first)}\OperatorTok{/}\NormalTok{first) ) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{avg_attempts, }\DataTypeTok{y =}\NormalTok{ diff_from_first, }\DataTypeTok{color =}\NormalTok{ dataset) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_line}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{group =}\NormalTok{ dataset)) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(.}\OperatorTok{~}\NormalTok{parameter,}\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x =} \StringTok{"Average Student Attempts"}\NormalTok{, }\DataTypeTok{y =} \StringTok{"Standard Deviation"}\NormalTok{, }\DataTypeTok{title =} \StringTok{"Percentage drop in Standard Deviation of Sampling Mean Difference"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_label}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{label =} \KeywordTok{paste0}\NormalTok{(}\KeywordTok{round}\NormalTok{(diff_from_first}\OperatorTok{*}\DecValTok{100}\NormalTok{,}\DecValTok{2}\NormalTok{),}\StringTok{"%"}\NormalTok{))) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{labels=}\NormalTok{scales}\OperatorTok{::}\KeywordTok{percent_format}\NormalTok{(}\DataTypeTok{accuracy =} \DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-16-1.pdf}

\hypertarget{sample-z-test}{%
\section{2 Sample Z Test}\label{sample-z-test}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.mean_diff  }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(dataset }\OperatorTok{==}\StringTok{ "Social Psychology"} \OperatorTok{|}\StringTok{ }\NormalTok{avg_attempts }\OperatorTok{>}\StringTok{ }\DecValTok{14}\NormalTok{) }\OperatorTok{%>%}
\StringTok{  }
\StringTok{  }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{avg_attempts, }\DataTypeTok{x=}\NormalTok{Z_test) }\OperatorTok{+}
\StringTok{  }
\StringTok{  }\KeywordTok{geom_density_ridges}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{height =}\NormalTok{ ..density..), }
                      \DataTypeTok{stat =} \StringTok{"density"}\NormalTok{, }\DataTypeTok{rel_min_height=}\FloatTok{0.01}\NormalTok{, }
                      \DataTypeTok{alpha =} \FloatTok{0.3}
\NormalTok{                       ) }\OperatorTok{+}
\StringTok{  }
\StringTok{  }\CommentTok{#labs(y = "Student count (average) attempting each item", x = "Mean Difference between partitions", title = "") + }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{y =} \StringTok{"Student count (average) attempting each item"}\NormalTok{, }\DataTypeTok{x =} \StringTok{"Item-Parameter Bias Relative difference"}\NormalTok{, }\DataTypeTok{title =} \StringTok{""}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_vline}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{xintercept =} \FloatTok{1.6}\NormalTok{), }\DataTypeTok{linetype =} \DecValTok{2}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_vline}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{xintercept =} \FloatTok{-1.6}\NormalTok{), }\DataTypeTok{linetype =} \DecValTok{2}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme_pubclean}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(dataset }\OperatorTok{~}\StringTok{ }\NormalTok{parameter, }\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{, }
             \DataTypeTok{labeller =} \KeywordTok{label_wrap_gen}\NormalTok{(}\DataTypeTok{width =} \DecValTok{10}\NormalTok{, }\DataTypeTok{multi_line =} \OtherTok{FALSE}\NormalTok{))  }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{), }
          \DataTypeTok{axis.text.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \FloatTok{10.5}\NormalTok{),}
          \DataTypeTok{strip.text.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{14}\NormalTok{),}
          \DataTypeTok{strip.text.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{14}\NormalTok{),}
          \DataTypeTok{axis.title.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{18}\NormalTok{),}
          \DataTypeTok{axis.title.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{16}\NormalTok{)}
          
\NormalTok{          ) }\OperatorTok{+}\StringTok{ }\KeywordTok{scale_x_continuous}\NormalTok{(}\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\OperatorTok{-}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{), }\DataTypeTok{breaks =} \KeywordTok{seq}\NormalTok{(}\OperatorTok{-}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Removed 1616 rows containing non-finite values (stat_density).
\end{verbatim}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-17-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.mean_diff  }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(dataset }\OperatorTok{==}\StringTok{ "Social Psychology"} \OperatorTok{|}\StringTok{ }\NormalTok{avg_attempts }\OperatorTok{>}\StringTok{ }\DecValTok{14}\NormalTok{) }\OperatorTok{%>%}
\StringTok{  }
\StringTok{  }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y=}\NormalTok{avg_attempts, }\DataTypeTok{x=}\NormalTok{Z_test) }\OperatorTok{+}
\StringTok{  }
\StringTok{  }\KeywordTok{geom_density_ridges2}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{height =}\NormalTok{ ..density..), }
                       \DataTypeTok{stat =} \StringTok{"binline"}\NormalTok{, }\DataTypeTok{rel_min_height=}\FloatTok{0.01}\NormalTok{, }
                       \DataTypeTok{alpha =} \FloatTok{0.3}
\NormalTok{                       ) }\OperatorTok{+}
\StringTok{  }
\StringTok{  }\CommentTok{#labs(y = "Student count (average) attempting each item", x = "Mean Difference between partitions", title = "") + }
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{y =} \StringTok{"Student count (average) attempting each item"}\NormalTok{, }\DataTypeTok{x =} \StringTok{"Item-Parameter Bias Z score"}\NormalTok{, }\DataTypeTok{title =} \StringTok{""}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_vline}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{xintercept =} \FloatTok{1.6}\NormalTok{), }\DataTypeTok{linetype =} \DecValTok{2}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{geom_vline}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{xintercept =} \FloatTok{-1.6}\NormalTok{), }\DataTypeTok{linetype =} \DecValTok{2}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{theme_pubclean}\NormalTok{() }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(dataset }\OperatorTok{~}\StringTok{ }\NormalTok{parameter, }\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{, }
             \DataTypeTok{labeller =} \KeywordTok{label_wrap_gen}\NormalTok{(}\DataTypeTok{width =} \DecValTok{10}\NormalTok{, }\DataTypeTok{multi_line =} \OtherTok{FALSE}\NormalTok{))  }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{), }
          \DataTypeTok{axis.text.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \FloatTok{10.5}\NormalTok{),}
          \DataTypeTok{strip.text.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{14}\NormalTok{),}
          \DataTypeTok{strip.text.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{14}\NormalTok{),}
          \DataTypeTok{axis.title.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{18}\NormalTok{),}
          \DataTypeTok{axis.title.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{16}\NormalTok{)}
          
\NormalTok{          ) }\OperatorTok{+}\StringTok{ }\KeywordTok{scale_x_continuous}\NormalTok{(}\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\OperatorTok{-}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{), }\DataTypeTok{breaks =} \KeywordTok{seq}\NormalTok{(}\OperatorTok{-}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `stat_binline()` using `bins = 30`. Pick better value with `binwidth`.
\end{verbatim}

\begin{verbatim}
## Warning: Removed 1616 rows containing non-finite values (stat_binline).
\end{verbatim}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-18-1.pdf}

\hypertarget{eda-model-fit}{%
\section{EDA Model Fit}\label{eda-model-fit}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.fit.plot.attempts }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(sample_size) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{distinct}\NormalTok{(group, sample_size, dataset) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(dataset }\OperatorTok{==}\StringTok{ "Social Psychology (Upsample)"}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(group }\OperatorTok{==}\StringTok{ "Partition 2"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 8 x 5
## # Groups:   group, parameter, fit, dataset [1]
##   group       sample_size dataset                      parameter fit      
##   <chr>             <dbl> <chr>                        <chr>     <chr>    
## 1 Partition 2         188 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 2 Partition 2         282 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 3 Partition 2         376 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 4 Partition 2         470 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 5 Partition 2         939 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 6 Partition 2        1878 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 7 Partition 2        4695 Social Psychology (Upsample) SRMSR     fit_SRMSR
## 8 Partition 2        5250 Social Psychology (Upsample) SRMSR     fit_SRMSR
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.fit.plot.attempts }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(group }\OperatorTok{==}\StringTok{ "Partition 1"}\NormalTok{) }\OperatorTok{%>%}
\StringTok{  }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}
\StringTok{  }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{attempts, }\DataTypeTok{y=}\NormalTok{sampling_error, }\DataTypeTok{color =}\NormalTok{ dataset, }\DataTypeTok{group =}\NormalTok{ group) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_line}\NormalTok{() }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_label}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{label =} \KeywordTok{round}\NormalTok{(sampling_error,}\DecValTok{6}\NormalTok{)))}\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_hline}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{yintercept=}\FloatTok{0.05}\NormalTok{),}\DataTypeTok{linetype=}\StringTok{"dotted"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\CommentTok{#scale_x_continuous(limits = c(0,300)) + }
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(dataset}\OperatorTok{~}\NormalTok{.,}\DataTypeTok{scales =} \StringTok{"free"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{cdm_2_boots_plots_files/figure-latex/unnamed-chunk-20-1.pdf}


\end{document}
